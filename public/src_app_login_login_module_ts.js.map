{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\r\nimport { NavigationExtras, Router } from '@angular/router';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { Usuario } from '../domain/usuario';\r\nimport { UsuariosService } from '../services/usuarios.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  usuario: Usuario = new Usuario();\r\n  usuario2: Usuario = new Usuario();\r\n  newUsuario: Usuario = new Usuario();\r\n  valUsr: Usuario = new Usuario();\r\n\r\n  constructor(private usuarioService: UsuariosService,\r\n    private route:Router, private afAuth: AngularFireAuth,\r\n    public menu: MenuController) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async login(){\r\n    const correo = this.usuario.correo\r\n    const clave = this.usuario.clave\r\n    this.usuarioService.findUser(correo, clave).subscribe(data=>{\r\n      this.usuario2=data[0]\r\n      try{\r\n        if(this.usuario2.correo==correo && this.usuario2.clave==clave && this.usuario2.rol=='administrador'){\r\n          let params: NavigationExtras ={\r\n            queryParams: {\r\n              usuario2: this.usuario2\r\n            }\r\n          }\r\n          this.route.navigate(['privado/iglesia'],params);\r\n        }else if(this.usuario2.correo==correo && this.usuario2.clave==clave && this.usuario2.rol=='cliente'){\r\n          let params: NavigationExtras ={\r\n            queryParams: {\r\n              usuario2: this.usuario2\r\n            }\r\n          }\r\n          this.route.navigate(['privado/iglesia'],params);\r\n        }\r\n      }\r\n      catch(error){console.log('Error: ->', error);\r\n        this.route.navigate(['login']);}\r\n    });\r\n  }\r\n\r\n  registrar(){\r\n    this.route.navigate(['registrar']);\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.menu.enable(true);\r\n  }\r\n  \r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}